commands:
  01_download_and_setup_model:
    command: |
      #!/bin/bash
      set -e
      echo "Starting model download and setup..."
      echo "Downloading model..."
      curl -L -o /tmp/model.zip https://virtualscale-cdn.s3.us-east-2.amazonaws.com/vosk/models/med/vosk-model-en-us-daanzu-20200905.zip
      echo "Creating directory..."
      mkdir -p /var/app/current/src/models/med
      echo "Unzipping model..."
      unzip -q /tmp/model.zip -d /tmp
      echo "Moving model to final location..."
      mv /tmp/vosk-model-en-us-daanzu-20200905 /var/app/current/src/models/med/
      echo "Cleaning up..."
      rm /tmp/model.zip
      echo "Model setup complete."